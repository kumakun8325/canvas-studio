## まとめ

Issue #35 の修正は既に完了しており、すべてのテストがパスしています。

### 修正内容

**src/hooks/useCanvas.ts**
- `currentSlideIdRef` を追加して、`currentSlideId` の最新値を常に参照できるようにしました
- `handleSave` クロージャ内で `currentSlideIdRef.current` を使用するように修正しました

### テスト結果

```
✓ src/test/task35-undo-bug.test.tsx (3 tests) 106ms
  - should record history when currentSlideId is set after canvas initialization
  - should record history when currentSlideId is set before canvas initialization
  - should record history correctly when switching slides
```

すべてのテストがパスしており、修正は正しく機能しています。
